<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Game</title>
<style>
body{margin:0;font-family:sans-serif;text-align:center;background:#f7f2ec;}
#stage{position:relative;margin:20px auto;width:90%;max-width:600px;height:300px;background:#e9f7ef;border-radius:12px;overflow:hidden;}
.character{position:absolute;width:60px;bottom:20px;}
#durga{left:0;}
.collectible{position:absolute;width:30px;height:30px;background:yellow;border-radius:50%;}
.score{font-size:18px;font-weight:bold;margin:10px;}
button{padding:10px 16px;margin:5px;border:none;background:#2b6cb0;color:white;border-radius:8px;font-size:16px;}
</style>
</head>
<body>

<div class="score">স্কোর: <span id="score">0</span></div>
<div id="stage">
  <div id="durga" class="character">
    <svg viewBox="0 0 50 50">
      <circle cx="25" cy="15" r="10" fill="#d9534f"/>
      <rect x="20" y="25" width="10" height="20" fill="#b33"/>
    </svg>
  </div>
</div>
<div>
  <button id="left">← বাম</button>
  <button id="right">ডান →</button>
</div>

<script>
const stage=document.getElementById('stage');
const durga=document.getElementById('durga');
const scoreDisplay=document.getElementById('score');
let stageW=stage.clientWidth, durgaX=0, score=0;
let collectibles=[];

// Move Durga
function moveDurga(dx){
  durgaX=Math.min(Math.max(0,durgaX+dx),stageW-60);
  durga.style.left=durgaX+'px';
}

// Generate collectible
function spawnCollectible(){
  const c=document.createElement('div');
  c.classList.add('collectible');
  c.style.left=Math.random()*(stageW-30)+'px';
  c.style.top='0px';
  stage.appendChild(c);
  collectibles.push(c);
}

// Update collectibles
function updateCollectibles(){
  collectibles.forEach((c,i)=>{
    let y=parseFloat(c.style.top);
    y+=3; // speed
    c.style.top=y+'px';
    let dRect=durga.getBoundingClientRect();
    let cRect=c.getBoundingClientRect();
    if(!(cRect.bottom<dRect.top || cRect.top>dRect.bottom || cRect.right<dRect.left || cRect.left>dRect.right)){
      score++; scoreDisplay.textContent=score;
      c.remove();
      collectibles.splice(i,1);
    } else if(y>stage.clientHeight){
      c.remove();
      collectibles.splice(i,1);
    }
  });
}

// Game loop
function loop(){
  updateCollectibles();
  requestAnimationFrame(loop);
}

// Spawn interval
setInterval(spawnCollectible,1000);
loop();

// Buttons
document.getElementById('left').addEventListener('click',()=>moveDurga(-20));
document.getElementById('right').addEventListener('click',()=>moveDurga(20));

// Keyboard
document.addEventListener('keydown',(e)=>{
  if(e.key==='ArrowLeft') moveDurga(-20);
  if(e.key==='ArrowRight') moveDurga(20);
});
</script>

</body>
</html>
